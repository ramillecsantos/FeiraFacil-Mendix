define(["exports","react","../../../shared/plotly","../../../shared/ace","big.js"],(function(e,t,n,r,o){"use strict";function a(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var i,c=a(n),s=a(r),u=a(o),l={exports:{}};
/*!
  	Copyright (c) 2018 Jed Watson.
  	Licensed under the MIT License (MIT), see
  	http://jedwatson.github.io/classnames
  */
i=l,function(){var e={}.hasOwnProperty;function t(){for(var n=[],r=0;r<arguments.length;r++){var o=arguments[r];if(o){var a=typeof o;if("string"===a||"number"===a)n.push(o);else if(Array.isArray(o)){if(o.length){var i=t.apply(null,o);i&&n.push(i)}}else if("object"===a){if(o.toString!==Object.prototype.toString&&!o.toString.toString().includes("[native code]")){n.push(o.toString());continue}for(var c in o)e.call(o,c)&&o[c]&&n.push(c)}}}return n.join(" ")}i.exports?(t.default=t,i.exports=t):window.classNames=t}();var d=l.exports;function f(e){const t={};if(e.width&&(t.width="percentage"===e.widthUnit?"".concat(e.width,"%"):"".concat(e.width,"px")),e.height)if("percentageOfWidth"===e.heightUnit&&e.width){const n=e.height/100*e.width;"percentage"===e.widthUnit?(t.height="auto",t.paddingBottom="".concat(n,"%")):t.height="".concat(n,"px")}else"pixels"===e.heightUnit?t.height="".concat(e.height,"px"):"percentageOfParent"===e.heightUnit&&(t.height="".concat(e.height,"%"));return t}var h=function(e){return function(e){return!!e&&"object"==typeof e}(e)&&!function(e){var t=Object.prototype.toString.call(e);return"[object RegExp]"===t||"[object Date]"===t||function(e){return e.$$typeof===g}(e)}(e)};var g="function"==typeof Symbol&&Symbol.for?Symbol.for("react.element"):60103;function p(e,t){return!1!==t.clone&&t.isMergeableObject(e)?w((n=e,Array.isArray(n)?[]:{}),e,t):e;var n}function m(e,t,n){return e.concat(t).map((function(e){return p(e,n)}))}function v(e){return Object.keys(e).concat(function(e){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(e).filter((function(t){return Object.propertyIsEnumerable.call(e,t)})):[]}(e))}function b(e,t){try{return t in e}catch(e){return!1}}function y(e,t,n){var r={};return n.isMergeableObject(e)&&v(e).forEach((function(t){r[t]=p(e[t],n)})),v(t).forEach((function(o){(function(e,t){return b(e,t)&&!(Object.hasOwnProperty.call(e,t)&&Object.propertyIsEnumerable.call(e,t))})(e,o)||(b(e,o)&&n.isMergeableObject(t[o])?r[o]=function(e,t){if(!t.customMerge)return w;var n=t.customMerge(e);return"function"==typeof n?n:w}(o,n)(e[o],t[o],n):r[o]=p(t[o],n))})),r}function w(e,t,n){(n=n||{}).arrayMerge=n.arrayMerge||m,n.isMergeableObject=n.isMergeableObject||h,n.cloneUnlessOtherwiseSpecified=p;var r=Array.isArray(t);return r===Array.isArray(e)?r?n.arrayMerge(e,t,n):y(e,t,n):p(t,n)}w.all=function(e,t){if(!Array.isArray(e))throw new Error("first argument should be an array");return e.reduce((function(e,n){return w(e,n,t)}),{})};var A=w,O=function(e,t,n,r){return new(n||(n=Promise))((function(o,a){function i(e){try{s(r.next(e))}catch(e){a(e)}}function c(e){try{s(r.throw(e))}catch(e){a(e)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,c)}s((r=r.apply(e,t||[])).next())}))};var E=function(e,t,n,r){return new(n||(n=Promise))((function(o,a){function i(e){try{s(r.next(e))}catch(e){a(e)}}function c(e){try{s(r.throw(e))}catch(e){a(e)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,c)}s((r=r.apply(e,t||[])).next())}))};const _={layout:{font:{family:"Open Sans",size:14,color:"#555"},autosize:!0,hovermode:"closest",hoverlabel:{bgcolor:"#888",bordercolor:"#888",font:{color:"#FFF"}},margin:{l:60,r:60,b:60,t:60,pad:10}},configuration:{displayModeBar:!1,doubleClick:!1},series:{connectgaps:!0,hoverinfo:"none",hoveron:"points"}};function k(e){console.warn("Error in theme folder configuration file: ".concat(e))}const x=(e,n)=>{const[r,o]=t.useState({layout:{},configuration:{},series:{}});return t.useEffect((()=>{n&&function(){E(this,void 0,void 0,(function*(){try{const t=yield function(){return O(this,void 0,void 0,(function*(){try{if(!window)return null;const e=yield window.fetch("".concat(window.mx.remoteUrl,"com.mendix.charts.json"));if(e.ok)return yield e.json()}catch(e){return null}}))}();if(null==t)return;if(!(t instanceof Object))return void k("invalid json object");if(!t.layout&&!t.configuration&&!t.charts)return void k("no 'layout', 'configuration', or 'charts' property found");o((n=>{var r;return{configuration:t.configuration||n.configuration,layout:t.layout||n.layout,series:(null===(r=t.charts)||void 0===r?void 0:r[e])||n.series}}))}catch(e){k(e)}}))}()}),[e,n]),r},S=e=>{let{className:n,bootstrapStyle:r,children:o,role:a}=e;return t.Children.count(o)>0?t.createElement("div",{className:d("alert alert-".concat(r),n),role:a},o):null};function N(e,n){t.useEffect((()=>{const{current:t}=Array.isArray(e)?e[0]:e;if(!t)return;const r=t.ownerDocument,o=function(e,t){const n=Array.isArray(e)?e:[e];return e=>{n.every((t=>{let{current:n}=t;return n&&!n.contains(e.target)}))&&t()}}(e,n);return r.addEventListener("mousedown",o),r.addEventListener("touchstart",o),()=>{r.removeEventListener("mousedown",o),r.removeEventListener("touchstart",o)}}),[e,n])}S.displayName="Alert";const C=e=>{let{className:n,isOpen:r,onBlur:o,onClick:a,children:i}=e;return t.createElement("div",{className:d("widget-sidebar",n,{"widget-sidebar-open":r}),onClick:a},t.createElement("div",{className:"overlay",onClick:o}),t.createElement("div",{className:"sidebar-content"},i))},L=e=>{let{className:n,onClose:r,children:o}=e;const a=r?10:12;return t.createElement("div",{className:d("sidebar-content-header",n)},t.createElement("div",{className:"header-content col-sm-".concat(a," col-xs-").concat(a)},o),r?t.createElement("div",{className:"col-sm-2 col-xs-2"},t.createElement("button",{className:"btn btn-image btn-icon close-button",onClick:r},t.createElement("img",{src:"widgets/com/mendix/widget/web/bubblechart/assets/a67f3e73956c1a2a.svg",className:"removeIcon",alt:"Close the playground sidebar"}))):null)};const j="{}";function R(e){return function(e){return null!=e&&""!==e}(e)?e:j}const T=()=>{const[e,n]=t.useState(!1),r=t.useRef(null),o=t.useRef(null);return N(o,(()=>n(!1))),t.createElement("button",{className:"info-tooltip",ref:r,onClick:()=>n(!0)},t.createElement("img",{src:"widgets/com/mendix/widget/web/bubblechart/assets/3f4e15cb9aac0353.svg",className:"info-tooltip-icon",alt:"Show inline editor information"}),e?t.createElement("div",{ref:o,className:"info-tooltip-info",style:{width:r.current&&r.current.parentElement?.9*r.current.parentElement.clientWidth:"auto"}},t.createElement(S,{bootstrapStyle:"info",className:"info-tooltip-info-content"},t.createElement("p",null,t.createElement("strong",null,"Changes made in this editor are only for preview purposes.")),t.createElement("p",null,"The JSON can be copied and pasted into the widgets properties in the desktop modeler"),t.createElement("p",null,"Check out the chart options here:"," ",t.createElement("a",{href:"https://plot.ly/javascript/reference/",target:"_blank",rel:"noreferrer"},"https://plot.ly/javascript/reference/")))):null)},I=e=>{let{children:n,renderPanels:r,renderSidebarHeaderTools:o}=e;const[a,i]=t.useState(!1),c=t.useCallback((()=>i(!1)),[]),s=t.useCallback((()=>i((e=>!e))),[]);return t.createElement("div",{className:d("widget-charts-playground",{"playground-open":a})},t.createElement(C,{isOpen:a,onBlur:c},t.createElement(L,{className:"row",onClose:c},o),t.createElement("div",{className:"sidebar-content-body"},t.createElement(T,null),r)),t.createElement("div",{className:"widget-charts-playground-toggle"},t.createElement("button",{className:"mx-button btn",onClick:s},"Toggle Editor")),n)},M=e=>{let{className:n,heading:r,headingClassName:o,children:a}=e;return t.createElement("div",{className:d("widget-panel",n)},r?t.createElement("div",{className:d("widget-panel-header",o)},r):null,a)},D=e=>{let{className:n,children:r}=e;return t.createElement("div",{className:d("sidebar-header-tools",n)},r)},P=e=>{let{onChange:n,options:r}=e;return t.createElement("select",{className:"form-control",onChange:e=>n(e.currentTarget.value)},r.map((e=>t.createElement("option",{key:"select-option-".concat(e.value),value:e.value,defaultChecked:e.isDefaultSelected},e.name))))};function B(e){return new Array(e).fill(j)}const U=e=>{let{data:n,customConfig:r,customLayout:o}=e;const[a,i]=t.useState("layout"),[c,s]=t.useState(R(r)),[u,l]=t.useState(R(o)),[d,f]=t.useState(B(n.length)),h=t.useRef(null),g=t.useRef(!1);t.useEffect((()=>{n.length!==d.length&&f(B(n.length))}),[n.length,d.length]);const p=t.useCallback((e=>{h.current&&clearTimeout(h.current),h.current=window.setTimeout((()=>{try{const t=g.current?JSON.stringify(JSON.parse(e),null,2):function(e){const t=e.replace(/(['"])?([a-z0-9A-Z_]+)(['"])?:/g,'"$2": ').replace(/'/g,'"');return JSON.stringify(JSON.parse(t),null,2)}(e);switch(a){case"layout":l(t);break;case"config":s(t);break;default:const e=parseInt(a,10);f((n=>n.map(((n,r)=>r===e?t:n))))}}catch(e){g.current=!1}}),1e3)}),[a]),m=t.useCallback((e=>{g.current=e}),[]),v=t.useMemo((()=>n.map(((e,t)=>Object.assign(Object.assign({},e),{customSeriesOptions:d[t]})))),[n,d]);return{activeEditableCode:t.useMemo((()=>"layout"===a?u:"config"===a?c:d[parseInt(a,10)]),[a,c,u,d]),activeView:a,changeActiveView:i,changeEditableCode:p,changeEditableCodeIsValid:m,editedConfig:c,editedData:v,editedLayout:u}};
/*!
   * https://github.com/Starcounter-Jack/JSON-Patch
   * (c) 2017-2022 Joachim Wester
   * MIT licensed
   */var V,F=(V=function(e,t){return V=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},V(e,t)},function(e,t){function n(){this.constructor=e}V(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),J=Object.prototype.hasOwnProperty;function z(e,t){return J.call(e,t)}function $(e){if(Array.isArray(e)){for(var t=new Array(e.length),n=0;n<t.length;n++)t[n]=""+n;return t}if(Object.keys)return Object.keys(e);var r=[];for(var o in e)z(e,o)&&r.push(o);return r}function H(e){switch(typeof e){case"object":return JSON.parse(JSON.stringify(e));case"undefined":return null;default:return e}}function q(e){for(var t,n=0,r=e.length;n<r;){if(!((t=e.charCodeAt(n))>=48&&t<=57))return!1;n++}return!0}function W(e){return-1===e.indexOf("/")&&-1===e.indexOf("~")?e:e.replace(/~/g,"~0").replace(/\//g,"~1")}function Y(e){return e.replace(/~1/g,"/").replace(/~0/g,"~")}function X(e){if(void 0===e)return!0;if(e)if(Array.isArray(e)){for(var t=0,n=e.length;t<n;t++)if(X(e[t]))return!0}else if("object"==typeof e)for(var r=$(e),o=r.length,a=0;a<o;a++)if(X(e[r[a]]))return!0;return!1}function G(e,t){var n=[e];for(var r in t){var o="object"==typeof t[r]?JSON.stringify(t[r],null,2):t[r];void 0!==o&&n.push(r+": "+o)}return n.join("\n")}var Q=function(e){function t(t,n,r,o,a){var i=this.constructor,c=e.call(this,G(t,{name:n,index:r,operation:o,tree:a}))||this;return c.name=n,c.index=r,c.operation=o,c.tree=a,Object.setPrototypeOf(c,i.prototype),c.message=G(t,{name:n,index:r,operation:o,tree:a}),c}return F(t,e),t}(Error),Z=Q,K=H,ee={add:function(e,t,n){return e[t]=this.value,{newDocument:n}},remove:function(e,t,n){var r=e[t];return delete e[t],{newDocument:n,removed:r}},replace:function(e,t,n){var r=e[t];return e[t]=this.value,{newDocument:n,removed:r}},move:function(e,t,n){var r=ne(n,this.path);r&&(r=H(r));var o=re(n,{op:"remove",path:this.from}).removed;return re(n,{op:"add",path:this.path,value:o}),{newDocument:n,removed:r}},copy:function(e,t,n){var r=ne(n,this.from);return re(n,{op:"add",path:this.path,value:H(r)}),{newDocument:n}},test:function(e,t,n){return{newDocument:n,test:ce(e[t],this.value)}},_get:function(e,t,n){return this.value=e[t],{newDocument:n}}},te={add:function(e,t,n){return q(t)?e.splice(t,0,this.value):e[t]=this.value,{newDocument:n,index:t}},remove:function(e,t,n){return{newDocument:n,removed:e.splice(t,1)[0]}},replace:function(e,t,n){var r=e[t];return e[t]=this.value,{newDocument:n,removed:r}},move:ee.move,copy:ee.copy,test:ee.test,_get:ee._get};function ne(e,t){if(""==t)return e;var n={op:"_get",path:t};return re(e,n),n.value}function re(e,t,n,r,o,a){if(void 0===n&&(n=!1),void 0===r&&(r=!0),void 0===o&&(o=!0),void 0===a&&(a=0),n&&("function"==typeof n?n(t,0,e,t.path):ae(t,0)),""===t.path){var i={newDocument:e};if("add"===t.op)return i.newDocument=t.value,i;if("replace"===t.op)return i.newDocument=t.value,i.removed=e,i;if("move"===t.op||"copy"===t.op)return i.newDocument=ne(e,t.from),"move"===t.op&&(i.removed=e),i;if("test"===t.op){if(i.test=ce(e,t.value),!1===i.test)throw new Z("Test operation failed","TEST_OPERATION_FAILED",a,t,e);return i.newDocument=e,i}if("remove"===t.op)return i.removed=e,i.newDocument=null,i;if("_get"===t.op)return t.value=e,i;if(n)throw new Z("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",a,t,e);return i}r||(e=H(e));var c=(t.path||"").split("/"),s=e,u=1,l=c.length,d=void 0,f=void 0,h=void 0;for(h="function"==typeof n?n:ae;;){if((f=c[u])&&-1!=f.indexOf("~")&&(f=Y(f)),o&&("__proto__"==f||"prototype"==f&&u>0&&"constructor"==c[u-1]))throw new TypeError("JSON-Patch: modifying `__proto__` or `constructor/prototype` prop is banned for security reasons, if this was on purpose, please set `banPrototypeModifications` flag false and pass it to this function. More info in fast-json-patch README");if(n&&void 0===d&&(void 0===s[f]?d=c.slice(0,u).join("/"):u==l-1&&(d=t.path),void 0!==d&&h(t,0,e,d)),u++,Array.isArray(s)){if("-"===f)f=s.length;else{if(n&&!q(f))throw new Z("Expected an unsigned base-10 integer value, making the new referenced value the array element with the zero-based index","OPERATION_PATH_ILLEGAL_ARRAY_INDEX",a,t,e);q(f)&&(f=~~f)}if(u>=l){if(n&&"add"===t.op&&f>s.length)throw new Z("The specified index MUST NOT be greater than the number of elements in the array","OPERATION_VALUE_OUT_OF_BOUNDS",a,t,e);if(!1===(i=te[t.op].call(t,s,f,e)).test)throw new Z("Test operation failed","TEST_OPERATION_FAILED",a,t,e);return i}}else if(u>=l){if(!1===(i=ee[t.op].call(t,s,f,e)).test)throw new Z("Test operation failed","TEST_OPERATION_FAILED",a,t,e);return i}if(s=s[f],n&&u<l&&(!s||"object"!=typeof s))throw new Z("Cannot perform operation at the desired path","OPERATION_PATH_UNRESOLVABLE",a,t,e)}}function oe(e,t,n,r,o){if(void 0===r&&(r=!0),void 0===o&&(o=!0),n&&!Array.isArray(t))throw new Z("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");r||(e=H(e));for(var a=new Array(t.length),i=0,c=t.length;i<c;i++)a[i]=re(e,t[i],n,!0,o,i),e=a[i].newDocument;return a.newDocument=e,a}function ae(e,t,n,r){if("object"!=typeof e||null===e||Array.isArray(e))throw new Z("Operation is not an object","OPERATION_NOT_AN_OBJECT",t,e,n);if(!ee[e.op])throw new Z("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",t,e,n);if("string"!=typeof e.path)throw new Z("Operation `path` property is not a string","OPERATION_PATH_INVALID",t,e,n);if(0!==e.path.indexOf("/")&&e.path.length>0)throw new Z('Operation `path` property must start with "/"',"OPERATION_PATH_INVALID",t,e,n);if(("move"===e.op||"copy"===e.op)&&"string"!=typeof e.from)throw new Z("Operation `from` property is not present (applicable in `move` and `copy` operations)","OPERATION_FROM_REQUIRED",t,e,n);if(("add"===e.op||"replace"===e.op||"test"===e.op)&&void 0===e.value)throw new Z("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_REQUIRED",t,e,n);if(("add"===e.op||"replace"===e.op||"test"===e.op)&&X(e.value))throw new Z("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_CANNOT_CONTAIN_UNDEFINED",t,e,n);if(n)if("add"==e.op){var o=e.path.split("/").length,a=r.split("/").length;if(o!==a+1&&o!==a)throw new Z("Cannot perform an `add` operation at the desired path","OPERATION_PATH_CANNOT_ADD",t,e,n)}else if("replace"===e.op||"remove"===e.op||"_get"===e.op){if(e.path!==r)throw new Z("Cannot perform the operation at a path that does not exist","OPERATION_PATH_UNRESOLVABLE",t,e,n)}else if("move"===e.op||"copy"===e.op){var i=ie([{op:"_get",path:e.from,value:void 0}],n);if(i&&"OPERATION_PATH_UNRESOLVABLE"===i.name)throw new Z("Cannot perform the operation from a path that does not exist","OPERATION_FROM_UNRESOLVABLE",t,e,n)}}function ie(e,t,n){try{if(!Array.isArray(e))throw new Z("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");if(t)oe(H(t),H(e),n||!0);else{n=n||ae;for(var r=0;r<e.length;r++)n(e[r],r,t,void 0)}}catch(e){if(e instanceof Z)return e;throw e}}function ce(e,t){if(e===t)return!0;if(e&&t&&"object"==typeof e&&"object"==typeof t){var n,r,o,a=Array.isArray(e),i=Array.isArray(t);if(a&&i){if((r=e.length)!=t.length)return!1;for(n=r;0!=n--;)if(!ce(e[n],t[n]))return!1;return!0}if(a!=i)return!1;var c=Object.keys(e);if((r=c.length)!==Object.keys(t).length)return!1;for(n=r;0!=n--;)if(!t.hasOwnProperty(c[n]))return!1;for(n=r;0!=n--;)if(!ce(e[o=c[n]],t[o]))return!1;return!0}return e!=e&&t!=t}var se=Object.freeze({__proto__:null,JsonPatchError:Z,deepClone:K,getValueByPointer:ne,applyOperation:re,applyPatch:oe,applyReducer:function(e,t,n){var r=re(e,t);if(!1===r.test)throw new Z("Test operation failed","TEST_OPERATION_FAILED",n,t,e);return r.newDocument},validator:ae,validate:ie,_areEquals:ce}),ue=new WeakMap,le=function(e){this.observers=new Map,this.obj=e},de=function(e,t){this.callback=e,this.observer=t};
/*!
   * https://github.com/Starcounter-Jack/JSON-Patch
   * (c) 2017-2021 Joachim Wester
   * MIT license
   */function fe(e,t){void 0===t&&(t=!1);var n=ue.get(e.object);he(n.value,e.object,e.patches,"",t),e.patches.length&&oe(n.value,e.patches);var r=e.patches;return r.length>0&&(e.patches=[],e.callback&&e.callback(r)),r}function he(e,t,n,r,o){if(t!==e){"function"==typeof t.toJSON&&(t=t.toJSON());for(var a=$(t),i=$(e),c=!1,s=i.length-1;s>=0;s--){var u=e[d=i[s]];if(!z(t,d)||void 0===t[d]&&void 0!==u&&!1===Array.isArray(t))Array.isArray(e)===Array.isArray(t)?(o&&n.push({op:"test",path:r+"/"+W(d),value:H(u)}),n.push({op:"remove",path:r+"/"+W(d)}),c=!0):(o&&n.push({op:"test",path:r,value:e}),n.push({op:"replace",path:r,value:t}));else{var l=t[d];"object"==typeof u&&null!=u&&"object"==typeof l&&null!=l&&Array.isArray(u)===Array.isArray(l)?he(u,l,n,r+"/"+W(d),o):u!==l&&(o&&n.push({op:"test",path:r+"/"+W(d),value:H(u)}),n.push({op:"replace",path:r+"/"+W(d),value:H(l)}))}}if(c||a.length!=i.length)for(s=0;s<a.length;s++){var d;z(e,d=a[s])||void 0===t[d]||n.push({op:"add",path:r+"/"+W(d),value:H(t[d])})}}}function ge(e,t,n){void 0===n&&(n=!1);var r=[];return he(e,t,r,"",n),r}var pe=Object.freeze({__proto__:null,unobserve:function(e,t){t.unobserve()},observe:function(e,t){var n,r=function(e){return ue.get(e)}(e);if(r){var o=function(e,t){return e.observers.get(t)}(r,t);n=o&&o.observer}else r=new le(e),ue.set(e,r);if(n)return n;if(n={},r.value=H(e),t){n.callback=t,n.next=null;var a=function(){fe(n)},i=function(){clearTimeout(n.next),n.next=setTimeout(a)};"undefined"!=typeof window&&(window.addEventListener("mouseup",i),window.addEventListener("keyup",i),window.addEventListener("mousedown",i),window.addEventListener("keydown",i),window.addEventListener("change",i))}return n.patches=[],n.object=e,n.unobserve=function(){fe(n),clearTimeout(n.next),function(e,t){e.observers.delete(t.callback)}(r,n),"undefined"!=typeof window&&(window.removeEventListener("mouseup",i),window.removeEventListener("keyup",i),window.removeEventListener("mousedown",i),window.removeEventListener("keydown",i),window.removeEventListener("change",i))},r.observers.set(t,new de(t,n)),n},generate:fe,compare:ge});Object.assign({},se,pe,{JsonPatchError:Q,deepClone:H,escapePathComponent:W,unescapePathComponent:Y});var me={b:"\b",f:"\f",n:"\n",r:"\r",t:"\t",'"':'"',"/":"/","\\":"\\"},ve="a".charCodeAt(),be=function(e,t,n){var r={},o=0,a=0,i=0,c=n&&n.bigint&&"undefined"!=typeof BigInt;return{data:s("",!0),pointers:r};function s(t,n){var r;u(),m(t,"value");var o=f();switch(o){case"t":d("rue"),r=!0;break;case"f":d("alse"),r=!1;break;case"n":d("ull"),r=null;break;case'"':r=l();break;case"[":r=function(e){u();var t=[],n=0;if("]"==f())return t;h();for(;;){var r=e+"/"+n;t.push(s(r)),u();var o=f();if("]"==o)break;","!=o&&w(),u(),n++}return t}(t);break;case"{":r=function(e){u();var t={};if("}"==f())return t;h();for(;;){var n=b();'"'!=f()&&w();var r=l(),o=e+"/"+Ae(r);v(o,"key",n),m(o,"keyEnd"),u(),":"!=f()&&w(),u(),t[r]=s(o),u();var a=f();if("}"==a)break;","!=a&&w(),u()}return t}(t);break;default:h(),"-0123456789".indexOf(o)>=0?r=function(){var t="",n=!0;"-"==e[i]&&(t+=f());t+="0"==e[i]?f():p(),"."==e[i]&&(t+=f()+p(),n=!1);"e"!=e[i]&&"E"!=e[i]||(t+=f(),"+"!=e[i]&&"-"!=e[i]||(t+=f()),t+=p(),n=!1);var r=+t;return c&&n&&(r>Number.MAX_SAFE_INTEGER||r<Number.MIN_SAFE_INTEGER)?BigInt(t):r}():y()}return m(t,"valueEnd"),u(),n&&i<e.length&&y(),r}function u(){e:for(;i<e.length;){switch(e[i]){case" ":a++;break;case"\t":a+=4;break;case"\r":a=0;break;case"\n":a=0,o++;break;default:break e}i++}}function l(){for(var e,t="";'"'!=(e=f());)"\\"==e?(e=f())in me?t+=me[e]:"u"==e?t+=g():w():t+=e;return t}function d(e){for(var t=0;t<e.length;t++)f()!==e[t]&&w()}function f(){A();var t=e[i];return i++,a++,t}function h(){i--,a--}function g(){for(var e=4,t=0;e--;){t<<=4;var n=f().toLowerCase();n>="a"&&n<="f"?t+=n.charCodeAt()-ve+10:n>="0"&&n<="9"?t+=+n:w()}return String.fromCharCode(t)}function p(){for(var t="";e[i]>="0"&&e[i]<="9";)t+=f();if(t.length)return t;A(),y()}function m(e,t){v(e,t,b())}function v(e,t,n){r[e]=r[e]||{},r[e][t]=n}function b(){return{line:o,column:a,pos:i}}function y(){throw new SyntaxError("Unexpected token "+e[i]+" in JSON at position "+i)}function w(){h(),y()}function A(){if(i>=e.length)throw new SyntaxError("Unexpected end of JSON input")}},ye=/~/g,we=/\//g;function Ae(e){return e.replace(ye,"~0").replace(we,"~1")}!function(e,t){ace.define("ace/mode/json_highlight_rules",["require","exports","module","ace/lib/oop","ace/mode/text_highlight_rules"],(function(e,t,n){var r=e("../lib/oop"),o=e("./text_highlight_rules").TextHighlightRules,a=function(){this.$rules={start:[{token:"variable",regex:'["](?:(?:\\\\.)|(?:[^"\\\\]))*?["]\\s*(?=:)'},{token:"string",regex:'"',next:"string"},{token:"constant.numeric",regex:"0[xX][0-9a-fA-F]+\\b"},{token:"constant.numeric",regex:"[+-]?\\d+(?:(?:\\.\\d*)?(?:[eE][+-]?\\d+)?)?\\b"},{token:"constant.language.boolean",regex:"(?:true|false)\\b"},{token:"text",regex:"['](?:(?:\\\\.)|(?:[^'\\\\]))*?[']"},{token:"comment",regex:"\\/\\/.*$"},{token:"comment.start",regex:"\\/\\*",next:"comment"},{token:"paren.lparen",regex:"[[({]"},{token:"paren.rparen",regex:"[\\])}]"},{token:"punctuation.operator",regex:/[,]/},{token:"text",regex:"\\s+"}],string:[{token:"constant.language.escape",regex:/\\(?:x[0-9a-fA-F]{2}|u[0-9a-fA-F]{4}|["\\\/bfnrt])/},{token:"string",regex:'"|$',next:"start"},{defaultToken:"string"}],comment:[{token:"comment.end",regex:"\\*\\/",next:"start"},{defaultToken:"comment"}]}};r.inherits(a,o),t.JsonHighlightRules=a})),ace.define("ace/mode/matching_brace_outdent",["require","exports","module","ace/range"],(function(e,t,n){var r=e("../range").Range,o=function(){};(function(){this.checkOutdent=function(e,t){return!!/^\s+$/.test(e)&&/^\s*\}/.test(t)},this.autoOutdent=function(e,t){var n=e.getLine(t).match(/^(\s*\})/);if(!n)return 0;var o=n[1].length,a=e.findMatchingBracket({row:t,column:o});if(!a||a.row==t)return 0;var i=this.$getIndent(e.getLine(a.row));e.replace(new r(t,0,t,o-1),i)},this.$getIndent=function(e){return e.match(/^\s*/)[0]}}).call(o.prototype),t.MatchingBraceOutdent=o})),ace.define("ace/mode/folding/cstyle",["require","exports","module","ace/lib/oop","ace/range","ace/mode/folding/fold_mode"],(function(e,t,n){var r=e("../../lib/oop"),o=e("../../range").Range,a=e("./fold_mode").FoldMode,i=t.FoldMode=function(e){e&&(this.foldingStartMarker=new RegExp(this.foldingStartMarker.source.replace(/\|[^|]*?$/,"|"+e.start)),this.foldingStopMarker=new RegExp(this.foldingStopMarker.source.replace(/\|[^|]*?$/,"|"+e.end)))};r.inherits(i,a),function(){this.foldingStartMarker=/([\{\[\(])[^\}\]\)]*$|^\s*(\/\*)/,this.foldingStopMarker=/^[^\[\{\(]*([\}\]\)])|^[\s\*]*(\*\/)/,this.singleLineBlockCommentRe=/^\s*(\/\*).*\*\/\s*$/,this.tripleStarBlockCommentRe=/^\s*(\/\*\*\*).*\*\/\s*$/,this.startRegionRe=/^\s*(\/\*|\/\/)#?region\b/,this._getFoldWidgetBase=this.getFoldWidget,this.getFoldWidget=function(e,t,n){var r=e.getLine(n);if(this.singleLineBlockCommentRe.test(r)&&!this.startRegionRe.test(r)&&!this.tripleStarBlockCommentRe.test(r))return"";var o=this._getFoldWidgetBase(e,t,n);return!o&&this.startRegionRe.test(r)?"start":o},this.getFoldWidgetRange=function(e,t,n,r){var o,a=e.getLine(n);if(this.startRegionRe.test(a))return this.getCommentRegionBlock(e,a,n);if(o=a.match(this.foldingStartMarker)){var i=o.index;if(o[1])return this.openingBracketBlock(e,o[1],n,i);var c=e.getCommentFoldRange(n,i+o[0].length,1);return c&&!c.isMultiLine()&&(r?c=this.getSectionRange(e,n):"all"!=t&&(c=null)),c}if("markbegin"!==t&&(o=a.match(this.foldingStopMarker))){i=o.index+o[0].length;return o[1]?this.closingBracketBlock(e,o[1],n,i):e.getCommentFoldRange(n,i,-1)}},this.getSectionRange=function(e,t){for(var n=e.getLine(t),r=n.search(/\S/),a=t,i=n.length,c=t+=1,s=e.getLength();++t<s;){var u=(n=e.getLine(t)).search(/\S/);if(-1!==u){if(r>u)break;var l=this.getFoldWidgetRange(e,"all",t);if(l){if(l.start.row<=a)break;if(l.isMultiLine())t=l.end.row;else if(r==u)break}c=t}}return new o(a,i,c,e.getLine(c).length)},this.getCommentRegionBlock=function(e,t,n){for(var r=t.search(/\s*$/),a=e.getLength(),i=n,c=/^\s*(?:\/\*|\/\/|--)#?(end)?region\b/,s=1;++n<a;){t=e.getLine(n);var u=c.exec(t);if(u&&(u[1]?s--:s++,!s))break}if(n>i)return new o(i,r,n,t.length)}}.call(i.prototype)})),ace.define("ace/mode/json",["require","exports","module","ace/lib/oop","ace/mode/text","ace/mode/json_highlight_rules","ace/mode/matching_brace_outdent","ace/mode/folding/cstyle","ace/worker/worker_client"],(function(e,t,n){var r=e("../lib/oop"),o=e("./text").Mode,a=e("./json_highlight_rules").JsonHighlightRules,i=e("./matching_brace_outdent").MatchingBraceOutdent,c=e("./folding/cstyle").FoldMode,s=e("../worker/worker_client").WorkerClient,u=function(){this.HighlightRules=a,this.$outdent=new i,this.$behaviour=this.$defaultBehaviour,this.foldingRules=new c};r.inherits(u,o),function(){this.lineCommentStart="//",this.blockComment={start:"/*",end:"*/"},this.getNextLineIndent=function(e,t,n){var r=this.$getIndent(t);"start"==e&&(t.match(/^.*[\{\(\[]\s*$/)&&(r+=n));return r},this.checkOutdent=function(e,t,n){return this.$outdent.checkOutdent(t,n)},this.autoOutdent=function(e,t,n){this.$outdent.autoOutdent(t,n)},this.createWorker=function(e){var t=new s(["ace"],"ace/mode/json_worker","JsonWorker");return t.attachToDocument(e.getDocument()),t.on("annotate",(function(t){e.setAnnotations(t.data)})),t.on("terminate",(function(){e.clearAnnotations()})),t},this.$id="ace/mode/json"}.call(u.prototype),t.Mode=u})),ace.require(["ace/mode/json"],(function(t){e&&(e.exports=t)}))}({exports:{}});!function(e,t){ace.define("ace/theme/github-css",["require","exports","module"],(function(e,t,n){n.exports='/* CSS style content from github\'s default pygments highlighter template.\n   Cursor and selection styles from textmate.css. */\n.ace-github .ace_gutter {\n  background: #e8e8e8;\n  color: #AAA;\n}\n\n.ace-github  {\n  background: #fff;\n  color: #000;\n}\n\n.ace-github .ace_keyword {\n  font-weight: bold;\n}\n\n.ace-github .ace_string {\n  color: #D14;\n}\n\n.ace-github .ace_variable.ace_class {\n  color: teal;\n}\n\n.ace-github .ace_constant.ace_numeric {\n  color: #099;\n}\n\n.ace-github .ace_constant.ace_buildin {\n  color: #0086B3;\n}\n\n.ace-github .ace_support.ace_function {\n  color: #0086B3;\n}\n\n.ace-github .ace_comment {\n  color: #998;\n  font-style: italic;\n}\n\n.ace-github .ace_variable.ace_language  {\n  color: #0086B3;\n}\n\n.ace-github .ace_paren {\n  font-weight: bold;\n}\n\n.ace-github .ace_boolean {\n  font-weight: bold;\n}\n\n.ace-github .ace_string.ace_regexp {\n  color: #009926;\n  font-weight: normal;\n}\n\n.ace-github .ace_variable.ace_instance {\n  color: teal;\n}\n\n.ace-github .ace_constant.ace_language {\n  font-weight: bold;\n}\n\n.ace-github .ace_cursor {\n  color: black;\n}\n\n.ace-github.ace_focus .ace_marker-layer .ace_active-line {\n  background: rgb(255, 255, 204);\n}\n.ace-github .ace_marker-layer .ace_active-line {\n  background: rgb(245, 245, 245);\n}\n\n.ace-github .ace_marker-layer .ace_selection {\n  background: rgb(181, 213, 255);\n}\n\n.ace-github.ace_multiselect .ace_selection.ace_start {\n  box-shadow: 0 0 3px 0px white;\n}\n/* bold keywords cause cursor issues for some fonts */\n/* this disables bold style for editor and keeps for static highlighter */\n.ace-github.ace_nobold .ace_line > span {\n    font-weight: normal !important;\n}\n\n.ace-github .ace_marker-layer .ace_step {\n  background: rgb(252, 255, 0);\n}\n\n.ace-github .ace_marker-layer .ace_stack {\n  background: rgb(164, 229, 101);\n}\n\n.ace-github .ace_marker-layer .ace_bracket {\n  margin: -1px 0 0 -1px;\n  border: 1px solid rgb(192, 192, 192);\n}\n\n.ace-github .ace_gutter-active-line {\n    background-color : rgba(0, 0, 0, 0.07);\n}\n\n.ace-github .ace_marker-layer .ace_selected-word {\n  background: rgb(250, 250, 255);\n  border: 1px solid rgb(200, 200, 250);\n}\n\n.ace-github .ace_invisible {\n  color: #BFBFBF\n}\n\n.ace-github .ace_print-margin {\n  width: 1px;\n  background: #e8e8e8;\n}\n\n.ace-github .ace_indent-guide {\n  background: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAE0lEQVQImWP4////f4bLly//BwAmVgd1/w11/gAAAABJRU5ErkJggg==") right repeat-y;\n}\n\n.ace-github .ace_indent-guide-active {\n  background: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAIGNIUk0AAHolAACAgwAA+f8AAIDpAAB1MAAA6mAAADqYAAAXb5JfxUYAAAAZSURBVHjaYvj///9/hivKyv8BAAAA//8DACLqBhbvk+/eAAAAAElFTkSuQmCC") right repeat-y;\n}\n'})),ace.define("ace/theme/github",["require","exports","module","ace/theme/github-css","ace/lib/dom"],(function(e,t,n){t.isDark=!1,t.cssClass="ace-github",t.cssText=e("./github-css"),e("../lib/dom").importCssString(t.cssText,t.cssClass,!1)})),ace.require(["ace/theme/github"],(function(t){e&&(e.exports=t)}))}({exports:{}});const Oe=e=>{let{readOnly:n,value:r,onChange:o,onValidate:a,overwriteValue:i}=e;const c=t.useCallback((e=>{o&&o(function(e){const t=e.split("\n");""===t[t.length-1]&&t.pop();return t.join("\n")}(e))}),[o]);return t.createElement(s.default,{className:n?"ace-editor-read-only":void 0,editorProps:{$blockScrolling:1/0},mode:"json",markers:i?Ee(r,i):void 0,maxLines:1e3,onChange:o?c:void 0,onValidate:a,readOnly:n,setOptions:{showLineNumbers:!1,highlightActiveLine:!1,highlightGutterLine:!0},theme:"github",value:"".concat(r,"\n"),width:"100%"})};function Ee(e,t){const n=[];if(t){ge(JSON.parse(e),JSON.parse(t)).forEach((t=>{if("replace"===t.op){const r=function(e,t){const n=be(e).pointers[t.path];if(n&&n.key&&n.valueEnd)return{startRow:n.key.line,startCol:n.key.column,endRow:n.valueEnd.line,endCol:n.valueEnd.column,type:"text",className:"replaced-config"};return null}(e,t);r&&n.push(r)}}))}return n}const _e={},ke=e=>{let{data:n,configOptions:r,layoutOptions:o,seriesOptions:a,customConfig:i,customLayout:s}=e;const u=t.useMemo((()=>A(o,xe(s))),[o,s]),l=t.useMemo((()=>A(r,xe(i))),[r,i]),d=t.useMemo((()=>{return e=a,n.map((t=>{const n=Object.assign({},t),r=xe(n.customSeriesOptions);return delete n.customSeriesOptions,delete n.dataSourceItems,A.all([e,n,r],{arrayMerge:(e,t)=>{const n=e.filter((e=>void 0!==e)),r=t.filter((e=>void 0!==e));return A(n,r)}})}));var e}),[n,a]),f=t.useCallback((e=>{const[{curveNumber:t,pointIndex:r,pointIndices:o}]=e.points,{dataSourceItems:a,onClick:i}=n[t],c=function(e,t){const n=null!=e?e:null==t?void 0:t.at(-1);if("number"!=typeof n)throw new Error("Unable to get item index for given point.");return n}(r,o),s=a[c];null==i||i(s)}),[n]);return function(e){const n=t.useRef(!1);t.useEffect((()=>{!n.current&&e.length>0&&(window.dispatchEvent(new Event("resize")),n.current=!0)}),[e])}(n),t.createElement(c.default,{className:"mx-react-plotly-chart",data:d,style:_e,config:l,layout:u,onClick:f})};function xe(e){return JSON.parse(R(e))}const Se=["x","y","z","customSeriesOptions"],Ne=e=>{let{data:n,layoutOptions:r,configOptions:o,seriesOptions:a,customLayout:i,customConfig:c}=e;const{activeEditableCode:s,activeView:u,changeActiveView:l,changeEditableCode:d,changeEditableCodeIsValid:f,editedConfig:h,editedData:g,editedLayout:p}=U({data:n,customConfig:c,customLayout:i}),m=t.useMemo((()=>{if("layout"===u)return r;if("config"===u)return o;const e=parseInt(u,10);return Object.fromEntries(Object.entries(n[e]).filter((e=>{let[t]=e;return!Se.includes(t)})))}),[u,o,n,r]);return t.createElement(I,{renderPanels:t.createElement(t.Fragment,null,t.createElement(M,{key:u,heading:"Custom settings"},t.createElement(Oe,{readOnly:!1,value:s,onChange:d,onValidate:e=>f(!e.length)})),t.createElement(M,{key:"modeler",heading:"Settings from the Studio/Studio Pro",headingClassName:"read-only"},t.createElement(Oe,{readOnly:!0,value:JSON.stringify(m,null,2),overwriteValue:s}))),renderSidebarHeaderTools:t.createElement(D,null,t.createElement(P,{onChange:l,options:[{name:"Layout",value:"layout",isDefaultSelected:!0},...n.map(((e,t)=>({name:e.name||"trace ".concat(t),value:t,isDefaultSelected:!1}))),{name:"Configuration",value:"config",isDefaultSelected:!1}]}))},t.createElement(ke,{data:g,layoutOptions:r,customLayout:p,configOptions:o,customConfig:h,seriesOptions:a}))},Ce=e=>{let{className:n,data:r,widthUnit:o,width:a,heightUnit:i,height:c,showLegend:s,xAxisLabel:u,yAxisLabel:l,gridLinesMode:h,showSidebarEditor:g,customLayout:p,customConfig:m,layoutOptions:v,configOptions:b,seriesOptions:y,type:w,enableThemeConfig:O}=e;const E=x(w,O),k=t.useMemo((()=>function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return A.all([_.layout,...t])}((e=>{let{showLegend:t,xAxisLabel:n,gridLinesMode:r,yAxisLabel:o}=e;return{showlegend:t,xaxis:{title:{text:n},showgrid:"both"===r||"vertical"===r},yaxis:{title:{text:o},showgrid:"both"===r||"horizontal"===r}}})({showLegend:s,xAxisLabel:u,gridLinesMode:h,yAxisLabel:l}),v,E.layout)),[s,u,h,l,v,E.layout]),S=t.useMemo((()=>function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return A.all([_.configuration,...t])}(b,E.configuration)),[b,E.configuration]),N=t.useMemo((()=>function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return A.all([_.series,...t])}(y,E.series)),[y,E.series]),C=g?Ne:ke;return t.createElement("div",{className:d("widget-chart",n),style:f({widthUnit:o,width:a,heightUnit:i,height:c})},t.createElement(C,{data:r,layoutOptions:k,customLayout:p,configOptions:S,customConfig:m,seriesOptions:N}))},Le=Object.is;function je(e){return"object"==typeof e&&null!==e}function Re(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Le;if(je(e)&&je(t)){const r=new Set(Object.keys(e).concat(Object.keys(t)));for(const o of r)if(!n(e[o],t[o],o))return!1;return!0}return Le(e,t)}function Te(e,t){return Re(e,t,((e,t,n)=>"staticOnClickAction"===n||"dynamicOnClickAction"===n||Le(e,t)))}function Ie(e){if(null==e)throw new Error(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Did not expect an argument to be undefined");return e}const Me=e=>{e&&e.canExecute&&!e.isExecuting&&e.execute()};function De(e){return t=>Me(e.get(t))}function Pe(e,t){const{staticName:n,dataSet:r,customSeriesOptions:o,staticOnClickAction:a}=e;if("static"!==r)throw Error("Expected series to be static");const i=Ue(e,null==n?void 0:n.value);return i?Object.assign(Object.assign(Object.assign(Object.assign({},a?{onClick:De(a)}:void 0),t(e,i,Fe)),i),{customSeriesOptions:o}):null}function Be(e,t){const{dataSet:n,customSeriesOptions:r,dynamicOnClickAction:o}=e;if("dynamic"!==n)throw Error("Expected series to be dynamic");const a=function(e){var t;const{dynamicDataSource:n,dynamicName:r,groupByAttribute:o,dataSet:a}=e;if("dynamic"!==a)throw Error("Expected series to be dynamic");const i=Ie(n);if(!i.items)return null;const c=[];for(const e of i.items){const n=Ie(o).get(e);if("loading"===n.status)return null;const a=null!==(t=n.value)&&void 0!==t?t:"";let i=c.find((e=>a instanceof Date&&e.groupByAttributeValue instanceof Date?e.groupByAttributeValue.getTime()===a.getTime():a instanceof u.default&&e.groupByAttributeValue instanceof u.default?e.groupByAttributeValue.eq(a):e.groupByAttributeValue===a));if(i||(i={groupByAttributeValue:a,items:[]},c.push(i)),i.items.push(e),r&&(!i.dynamicNameValue||"(empty)"===i.dynamicNameValue)){const{status:t,value:n}=r.get(e);if("loading"===t)return null;i.dynamicNameValue=null!=n?n:"(empty)"}}return c}(e);if(!a)return null;return a.map((n=>{const a=Ue(e,n.dynamicNameValue,n.items);return a?Object.assign(Object.assign(Object.assign(Object.assign({},o?{onClick:De(o)}:void 0),t(e,a,Fe)),a),{customSeriesOptions:r}):null})).filter((e=>Boolean(e)))}function Ue(e,t,n){const r="static"===e.dataSet?Ie(e.staticXAttribute):Ie(e.dynamicXAttribute),o="static"===e.dataSet?Ie(e.staticYAttribute):Ie(e.dynamicYAttribute);if(!n){const t=Ie(e.staticDataSource);if(!t.items)return null;n=t.items}const a=[],i=[],c=[];for(const t of n){const n=r.get(t),s=o.get(t);n.value?a.push(n.value instanceof u.default?n.value.toNumber():n.value):a.push(null),s.value?i.push(s.value instanceof u.default?s.value.toNumber():s.value):i.push(null);const l="dynamic"===e.dataSet?e.dynamicTooltipHoverText:e.staticTooltipHoverText;c.push(null==l?void 0:l.get(t).value)}return Object.assign(Object.assign({},t?{name:t}:{}),{x:a,y:i,dataSourceItems:n,hovertext:c.some((e=>void 0!==e&&""!==e))?c:void 0,hoverinfo:c.some((e=>void 0!==e&&""!==e))?"text":"none"})}function Ve(e,t){return"none"===e?[]:[{type:"aggregate",groups:t.x.map((e=>null==e?"":"string"==typeof e||"number"==typeof e?e.toLocaleString():e.toLocaleDateString())),aggregations:[{target:"y",func:e,enabled:!0}]}]}const Fe={getExpressionValue(e,t){for(const n of t){const t=e.get(n);return"available"!==t.status?void 0:t.value}}},Je=(e,t,n)=>{const r=((e,t,n)=>{var r,o;if(e.autosize){let a=1;const i=((null!==(r=null==n?void 0:n.width)&&void 0!==r?r:0)+(null!==(o=null==n?void 0:n.height)&&void 0!==o?o:0))/2/(1/(e.sizeref/100));return t.length>0&&(a=Math.max(...t)/i),Math.round(1e3*a)/1e3}if(e.sizeref>0)return 1/(e.sizeref/100);return 1})(e,t.size,n);return{sizemode:"diameter",sizeref:r}},ze={xaxis:{zeroline:!0,fixedrange:!0,gridcolor:"#d7d7d7",zerolinecolor:"#d7d7d7"},yaxis:{fixedrange:!0,gridcolor:"#d7d7d7",zeroline:!0,zerolinecolor:"#d7d7d7"}},$e={responsive:!0},He={},qe=t.memo((function(e){var n,r;const o=function(e,n){const[r,o]=t.useState(null);return t.useEffect((()=>{const t=e.map((e=>("static"===e.dataSet?Pe:Be)(e,n))).filter((e=>Boolean(e))).flat();o(0===t.length?null:t)}),[e,n]),r}(e.lines,t.useCallback(((t,n,r)=>{let{getExpressionValue:o}=r;const a=(e=>{const t=[];let n,r;if("static"===e.dataSet?(n=e.staticDataSource,r=e.staticSizeAttribute):(n=e.dynamicDataSource,r=e.dynamicSizeAttribute),null==n?void 0:n.items)for(const e of n.items){const n=null==r?void 0:r.get(e),o=(null==n?void 0:n.value)instanceof u.default?Number(n.value.toString()):null==n?void 0:n.value;o&&t.push(o)}return t})(t),i=Je(t,{size:a},{width:e.width,widthUnit:e.widthUnit,height:e.height,heightUnit:e.heightUnit}),c="static"===t.dataSet?t.staticMarkerColor:t.dynamicMarkerColor;return{type:"scatter",mode:"markers",marker:{color:c?o(c,n.dataSourceItems):void 0,symbol:["circle"],size:a,...i},transforms:Ve(t.aggregationType,n)}}),[]));return t.createElement(Ce,{type:"BubbleChart",className:d("widget-bubble-chart",e.class),data:null!=o?o:[],width:e.width,widthUnit:e.widthUnit,height:e.height,heightUnit:e.heightUnit,showLegend:e.showLegend,xAxisLabel:null===(n=e.xAxisLabel)||void 0===n?void 0:n.value,yAxisLabel:null===(r=e.yAxisLabel)||void 0===r?void 0:r.value,gridLinesMode:e.gridLines,showSidebarEditor:e.enableDeveloperMode,customLayout:e.customLayout,customConfig:e.customConfigurations,layoutOptions:ze,configOptions:$e,seriesOptions:He,enableThemeConfig:e.enableThemeConfig})}),((e,t)=>Re(e,t,((e,t,n)=>"lines"===n?Re(e,t,Te):Le(e,t)))));e.BubbleChart=qe,Object.defineProperty(e,"__esModule",{value:!0})}));
